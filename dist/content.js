!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n(1),o=n.n(r);function i(e,t){return function(e,t=500,n=6e4){return new Promise((r,o)=>{let i,u;u=setTimeout(()=>{clearInterval(i),clearTimeout(u),o()},n),i=setInterval(()=>{e()&&(clearInterval(i),clearTimeout(u),r())},t)})}(()=>document.querySelector(e),t).catch(()=>{throw new Error(`Element is not showing up: ${e}`)})}function u(e=[],t){return Promise.all(e.map(e=>i(e,t)))}n.d(t,"d",(function(){return o.a}));const c=e=>document.querySelector(e),a=()=>new Promise(e=>chrome.storage.sync.get(null,t=>{e({subscribedOnly:!1,includeIds:[],excludeIds:[],minDuration:10,...t})})),s=e=>new Promise(t=>chrome.storage.sync.set(e,t))},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,a="object"==typeof self&&self&&self.Object===Object&&self,s=c||a||Function("return this")(),l=Object.prototype.toString,f=Math.max,d=Math.min,b=function(){return s.Date.now()};function p(e,t,n){var r,o,i,u,c,a,s=0,l=!1,p=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,i=o;return r=o=void 0,s=t,u=e.apply(i,n)}function h(e){return s=e,c=setTimeout(j,t),l?y(e):u}function w(e){var n=e-a;return void 0===a||n>=t||n<0||p&&e-s>=i}function j(){var e=b();if(w(e))return O(e);c=setTimeout(j,function(e){var n=t-(e-a);return p?d(n,i-(e-s)):n}(e))}function O(e){return c=void 0,m&&r?y(e):(r=o=void 0,u)}function x(){var e=b(),n=w(e);if(r=arguments,o=this,a=e,n){if(void 0===c)return h(a);if(p)return c=setTimeout(j,t),y(a)}return void 0===c&&(c=setTimeout(j,t)),u}return t=v(t)||0,g(n)&&(l=!!n.leading,i=(p="maxWait"in n)?f(v(n.maxWait)||0,t):i,m="trailing"in n?!!n.trailing:m),x.cancel=function(){void 0!==c&&clearTimeout(c),s=0,r=a=o=c=void 0},x.flush=function(){return void 0===c?u:O(b())},x}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==l.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var c=o.test(e);return c||i.test(e)?u(e.slice(2),c?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return g(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),p(e,t,{leading:r,maxWait:t,trailing:o})}}).call(this,n(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var r=n(0);const o={app:"ytd-app",ad:".ad-showing, .ad-interrupting",video:"video.video-stream",like:'button[aria-label^="like this"]',dislike:'button[aria-label^="dislike this"]',signIn:'a[href^="https://accounts.google.com/ServiceLogin"]',channelLink:"ytd-channel-name a",subscribe:"paper-button.ytd-subscribe-button-renderer"},i=e=>{const t=Object(r.a)(e);if(!t)throw new Error(`Button not found: ${e}`);return"true"===t.getAttribute("aria-pressed")},u=()=>new URLSearchParams(window.location.search).get("v");async function c(){if(console.log("Init."),!document.location.href.startsWith("https://www.youtube.com/watch"))return console.log("Not watch page");if(Object(r.a)(o.signIn))return console.log("Not sign in");const e=u(),{subscribedOnly:t=!1,includeIds:n=[],excludeIds:c=[],minDuration:a=10}=await Object(r.b)();try{if(await Object(r.e)([o.video,o.like,o.dislike]),i(o.like)||i(o.dislike))return console.log("Rated!");const s=Object(r.a)(o.channelLink).getAttribute("href").replace("/channel/","");if(t&&!(()=>{const e=Object(r.a)(o.subscribe);if(!e)throw new Error(`Subscibe button not found: ${o}`);return e.hasAttribute("subscribed")})()&&!n.includes(s))return;if(!t&&n.length>0&&!n.includes(s))return;if(console.log({excludeIds:c,channelId:s}),c.length>0&&c.includes(s))return;const l=Object(r.a)(o.video),f=Object(r.a)(o.like),d=Object(r.d)(()=>{l.currentTime<a||Object(r.a)(o.ad)||(l.removeEventListener("timeupdate",d),e===u()&&(f.click(),console.log("Liked! 👍")))},500);l.addEventListener("timeupdate",d)}catch(e){e.message&&console.log(e.message)}}Object(r.a)(o.app).addEventListener("yt-page-data-updated",()=>{console.log("yt-page-data-updated"),c()})}]);