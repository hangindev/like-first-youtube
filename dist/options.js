!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l}));var r=n(1),i=n.n(r);function o(e,t){return function(e,t=500,n=6e4){return new Promise((r,i)=>{let o,u;u=setTimeout(()=>{clearInterval(o),clearTimeout(u),i()},n),o=setInterval(()=>{e()&&(clearInterval(o),clearTimeout(u),r())},t)})}(()=>document.querySelector(e),t).catch(()=>{throw new Error(`Element is not showing up: ${e}`)})}function u(e=[],t){return Promise.all(e.map(e=>o(e,t)))}n.d(t,"d",(function(){return i.a}));const c=e=>document.querySelector(e),a=()=>new Promise(e=>chrome.storage.sync.get(null,t=>{e({subscribedOnly:!1,includeIds:[],excludeIds:[],minDuration:10,...t})})),l=e=>new Promise(t=>chrome.storage.sync.set(e,t))},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,a="object"==typeof self&&self&&self.Object===Object&&self,l=c||a||Function("return this")(),s=Object.prototype.toString,f=Math.max,d=Math.min,m=function(){return l.Date.now()};function v(e,t,n){var r,i,o,u,c,a,l=0,s=!1,v=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,o=i;return r=i=void 0,l=t,u=e.apply(o,n)}function j(e){return l=e,c=setTimeout(O,t),s?g(e):u}function h(e){var n=e-a;return void 0===a||n>=t||n<0||v&&e-l>=o}function O(){var e=m();if(h(e))return w(e);c=setTimeout(O,function(e){var n=t-(e-a);return v?d(n,o-(e-l)):n}(e))}function w(e){return c=void 0,p&&r?g(e):(r=i=void 0,u)}function x(){var e=m(),n=h(e);if(r=arguments,i=this,a=e,n){if(void 0===c)return j(a);if(v)return c=setTimeout(O,t),g(a)}return void 0===c&&(c=setTimeout(O,t)),u}return t=b(t)||0,y(n)&&(s=!!n.leading,o=(v="maxWait"in n)?f(b(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),x.cancel=function(){void 0!==c&&clearTimeout(c),l=0,r=a=i=c=void 0},x.flush=function(){return void 0===c?u:w(m())},x}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==s.call(e)}(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var c=i.test(e);return c||o.test(e)?u(e.slice(2),c?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return y(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),v(e,t,{leading:r,maxWait:t,trailing:i})}}).call(this,n(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,function(e,t,n){"use strict";n.r(t);var r=n(0);const i=document.getElementById("OptionForm"),o=i.querySelector("fieldset"),u=document.getElementById("Status"),c=document.getElementById("subscribedOnly"),a=document.getElementById("includeIds"),l=document.getElementById("excludeIds"),s=document.getElementById("minDuration"),f=e=>e.replace(/\n|,/g," ").split(" ").map(e=>e.trim()).filter(e=>e.length>0),d=(e,...t)=>{u.innerText=e,u.classList.add(...t),u.classList.remove("hide"),setTimeout(()=>{u.classList.add("hide"),u.classList.remove(...t)},2e3)};!async function(){const{subscribedOnly:e,includeIds:t,excludeIds:n,minDuration:u}=await Object(r.b)();c.checked=e,a.value=t.join(",\n"),l.value=n.join(",\n"),s.value=u,i.addEventListener("submit",async e=>{e.preventDefault(),o.setAttribute("disabled","");try{const e={subscribedOnly:c.checked,includeIds:f(a.value),excludeIds:f(l.value),minDuration:Number(s.value)};await Object(r.c)(e),a.value=e.includeIds.join(",\n"),l.value=e.excludeIds.join(",\n"),o.removeAttribute("disabled"),d("Saved!","success")}catch(e){console.log(e),e.message&&d(e.message,"warn")}})}()}]);